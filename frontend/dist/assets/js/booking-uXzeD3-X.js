var s=(n,o,e)=>new Promise((c,d)=>{var g=t=>{try{p(e.next(t))}catch(i){d(i)}},u=t=>{try{p(e.throw(t))}catch(i){d(i)}},p=t=>t.done?c(t.value):Promise.resolve(t.value).then(g,u);p((e=e.apply(n,o)).next())});import{a as r}from"./utils-vendor-1hodNj4h.js";const a=r.create({baseURL:"http://3.87.74.62:3001",timeout:3e4,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(n=>{const o=localStorage.getItem("flight_schedule_access_token");return o&&(n.headers.Authorization=`Bearer ${o}`),n},n=>Promise.reject(n));a.interceptors.response.use(n=>n,n=>{var o;if(((o=n.response)==null?void 0:o.status)===401){localStorage.removeItem("flight_schedule_access_token"),localStorage.removeItem("flight_schedule_refresh_token"),localStorage.removeItem("flight_schedule_id_token"),localStorage.removeItem("user");const e=window.location.pathname;!e.includes("/login")&&!e.includes("/register")&&setTimeout(()=>{window.location.href="/login"},100)}return Promise.reject(n)});class h{static listBookings(o){return s(this,null,function*(){const e=new URLSearchParams;return o!=null&&o.studentId&&e.append("studentId",o.studentId),o!=null&&o.instructorId&&e.append("instructorId",o.instructorId),o!=null&&o.status&&e.append("status",o.status),o!=null&&o.trainingLevel&&e.append("trainingLevel",o.trainingLevel),o!=null&&o.startDate&&e.append("startDate",o.startDate),o!=null&&o.endDate&&e.append("endDate",o.endDate),o!=null&&o.limit&&e.append("limit",o.limit.toString()),o!=null&&o.offset&&e.append("offset",o.offset.toString()),(yield a.get(`/bookings?${e.toString()}`)).data.bookings})}static getBooking(o){return s(this,null,function*(){return(yield a.get(`/bookings/${o}`)).data.booking})}static createBooking(o){return s(this,null,function*(){return(yield a.post("/bookings",o)).data.booking})}static updateBooking(o,e){return s(this,null,function*(){return(yield a.put(`/bookings/${o}`,e)).data.booking})}static deleteBooking(o){return s(this,null,function*(){yield a.delete(`/bookings/${o}`)})}static cancelBooking(o){return s(this,null,function*(){return(yield a.post(`/bookings/${o}/cancel`)).data.booking})}}export{h as B,a};
