const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Dashboard-CHU82PZm.js","assets/js/ui-vendor-iMAx8RKE.js","assets/js/react-vendor-DxF-uWSm.js","assets/js/badge-Djgs40xq.js","assets/js/utils-vendor-1hodNj4h.js","assets/js/booking-CxIcC8_S.js","assets/js/booking-CEus6Bct.js","assets/js/BookingList-BnNiMm5-.js","assets/js/weather-BNlE3esQ.js","assets/js/tabs-CvMK52Mp.js","assets/js/CreateBooking-DdefAltU.js","assets/js/alert-DA1EUvH3.js","assets/js/BookingDetails-BmLCNq8D.js","assets/js/ReschedulePage-C2xli2MH.js","assets/js/AvailabilityCalendar-DPUHTF42.js","assets/js/Settings-Xh1ip4s_.js"])))=>i.map(i=>d[i]);
var Xe=Object.defineProperty,Qe=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var Ce=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var Se=(e,t,s)=>t in e?Xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,k=(e,t)=>{for(var s in t||(t={}))Ce.call(t,s)&&Se(e,s,t[s]);if(Q)for(var s of Q(t))Ee.call(t,s)&&Se(e,s,t[s]);return e},G=(e,t)=>Qe(e,et(t));var C=(e,t)=>{var s={};for(var o in e)Ce.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&Q)for(var o of Q(e))t.indexOf(o)<0&&Ee.call(e,o)&&(s[o]=e[o]);return s};var w=(e,t,s)=>new Promise((o,n)=>{var a=c=>{try{i(s.next(c))}catch(g){n(g)}},l=c=>{try{i(s.throw(c))}catch(g){n(g)}},i=c=>c.done?o(c.value):Promise.resolve(c.value).then(a,l);i((s=s.apply(e,t)).next())});import{j as r,c as tt,T as rt,B as st,X as ze,L as ot,C as nt,a as at,S as it,b as Te,M as lt,d as ct}from"./ui-vendor-iMAx8RKE.js";import{b as dt,r as d,a as ut,u as oe,c as Oe,L as te,N as he,H as mt,d as gt,e as E,R as ht}from"./react-vendor-DxF-uWSm.js";import{a as I}from"./utils-vendor-1hodNj4h.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();var pe={},Ae=dt;pe.createRoot=Ae.createRoot,pe.hydrateRoot=Ae.hydrateRoot;const pt="modulepreload",ft=function(e){return"/"+e},Re={},U=function(t,s,o){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),i=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(s.map(c=>{if(c=ft(c),c in Re)return;Re[c]=!0;const g=c.endsWith(".css"),u=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=g?"stylesheet":pt,g||(m.as="script"),m.crossOrigin="",m.href=c,i&&m.setAttribute("nonce",i),document.head.appendChild(m),g)return new Promise((f,h)=>{m.addEventListener("load",f),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return n.then(l=>{for(const i of l||[])i.status==="rejected"&&a(i.reason);return t().catch(a)})},ee="http://3.87.74.62:3001",de="flight_schedule_access_token",ue="flight_schedule_refresh_token",me="flight_schedule_id_token";class T{static login(t){return w(this,null,function*(){var s,o;try{const n=yield I.post(`${ee}/auth/login`,t);return this.setTokens(n.data.tokens),n.data.user&&localStorage.setItem("user",JSON.stringify(n.data.user)),n.data}catch(n){if(I.isAxiosError(n)){const a=n;throw new Error(((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.message)||"Login failed")}throw n}})}static register(t){return w(this,null,function*(){var s,o;try{return(yield I.post(`${ee}/auth/register`,t)).data}catch(n){if(I.isAxiosError(n)){const a=n;throw new Error(((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.message)||"Registration failed")}throw n}})}static refreshToken(){return w(this,null,function*(){try{const t=this.getRefreshToken();if(!t)throw new Error("No refresh token available");const s=yield I.post(`${ee}/auth/refresh`,{refreshToken:t});return this.setTokens(s.data.tokens),s.data.tokens}catch(t){throw this.clearTokens(),new Error("Token refresh failed")}})}static getCurrentUser(){return w(this,null,function*(){var t;try{const s=this.getAccessToken();if(!s)throw new Error("No access token available");return(yield I.get(`${ee}/auth/me`,{headers:{Authorization:`Bearer ${s}`}})).data.user}catch(s){throw I.isAxiosError(s)&&((t=s.response)==null?void 0:t.status)===401&&this.clearTokens(),new Error("Failed to get current user")}})}static logout(){this.clearTokens()}static setTokens(t){localStorage.setItem(de,t.accessToken),localStorage.setItem(ue,t.refreshToken),localStorage.setItem(me,t.idToken)}static getAccessToken(){return localStorage.getItem(de)}static getRefreshToken(){return localStorage.getItem(ue)}static getIdToken(){return localStorage.getItem(me)}static clearTokens(){localStorage.removeItem(de),localStorage.removeItem(ue),localStorage.removeItem(me),localStorage.removeItem("user")}static isAuthenticated(){return!!this.getAccessToken()}}const Fe=d.createContext(void 0);function xt({children:e}){const[t,s]=d.useState(null),[o,n]=d.useState(null),[a,l]=d.useState(!0);d.useEffect(()=>{i()},[]);const i=()=>w(this,null,function*(){try{if(T.isAuthenticated()){try{const v=yield T.getCurrentUser();s(v)}catch(v){console.warn("Failed to fetch current user, checking localStorage",v);const S=localStorage.getItem("user");if(S)try{s(JSON.parse(S))}catch(L){console.error("Failed to parse stored user",L)}}const p=T.getAccessToken(),x=T.getRefreshToken(),y=T.getIdToken();p&&x&&y&&n({accessToken:p,refreshToken:x,idToken:y,expiresIn:3600})}}catch(p){console.error("Failed to initialize auth",p)}finally{l(!1)}}),c=p=>w(this,null,function*(){try{const x=yield T.login(p);s(x.user),n(x.tokens)}catch(x){throw console.error("Login failed",x),x}}),g=p=>w(this,null,function*(){try{yield T.register(p)}catch(x){throw console.error("Registration failed",x),x}}),u=()=>{T.logout(),s(null),n(null)},m=()=>w(this,null,function*(){try{const p=yield T.refreshToken();n(p);const x=yield T.getCurrentUser();s(x)}catch(p){throw console.error("Token refresh failed",p),u(),p}}),f=!!t||!!(o!=null&&o.accessToken&&T.isAuthenticated()),h={user:t,tokens:o,isAuthenticated:f,isLoading:a,login:c,register:g,logout:u,refreshToken:m};return r.jsx(Fe.Provider,{value:h,children:e})}function ne(){const e=d.useContext(Fe);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var bt=Symbol.for("react.lazy"),re=ut[" use ".trim().toString()];function yt(e){return typeof e=="object"&&e!==null&&"then"in e}function Me(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===bt&&"_payload"in e&&yt(e._payload)}function vt(e){const t=jt(e),s=d.forwardRef((o,n)=>{let g=o,{children:a}=g,l=C(g,["children"]);Me(a)&&typeof re=="function"&&(a=re(a._payload));const i=d.Children.toArray(a),c=i.find(kt);if(c){const u=c.props.children,m=i.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return r.jsx(t,G(k({},l),{ref:n,children:d.isValidElement(u)?d.cloneElement(u,void 0,m):null}))}return r.jsx(t,G(k({},l),{ref:n,children:a}))});return s.displayName=`${e}.Slot`,s}var wt=vt("Slot");function jt(e){const t=d.forwardRef((s,o)=>{let l=s,{children:n}=l,a=C(l,["children"]);if(Me(n)&&typeof re=="function"&&(n=re(n._payload)),d.isValidElement(n)){const i=Ct(n),c=St(a,n.props);return n.type!==d.Fragment&&(c.ref=o?tt(o,i):i),d.cloneElement(n,c)}return d.Children.count(n)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Nt=Symbol("radix.slottable");function kt(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Nt}function St(e,t){const s=k({},t);for(const o in t){const n=e[o],a=t[o];/^on[A-Z]/.test(o)?n&&a?s[o]=(...i)=>{const c=a(...i);return n(...i),c}:n&&(s[o]=n):o==="style"?s[o]=k(k({},n),a):o==="className"&&(s[o]=[n,a].filter(Boolean).join(" "))}return k(k({},e),s)}function Ct(e){var o,n;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function $e(e){var t,s,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(s=$e(e[t]))&&(o&&(o+=" "),o+=s)}else for(s in e)e[s]&&(o&&(o+=" "),o+=s);return o}function Ue(){for(var e,t,s=0,o="",n=arguments.length;s<n;s++)(e=arguments[s])&&(t=$e(e))&&(o&&(o+=" "),o+=t);return o}const _e=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Pe=Ue,Et=(e,t)=>s=>{var o;if((t==null?void 0:t.variants)==null)return Pe(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:n,defaultVariants:a}=t,l=Object.keys(n).map(g=>{const u=s==null?void 0:s[g],m=a==null?void 0:a[g];if(u===null)return null;const f=_e(u)||_e(m);return n[g][f]}),i=s&&Object.entries(s).reduce((g,u)=>{let[m,f]=u;return f===void 0||(g[m]=f),g},{}),c=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((g,u)=>{let p=u,{class:m,className:f}=p,h=C(p,["class","className"]);return Object.entries(h).every(x=>{let[y,v]=x;return Array.isArray(v)?v.includes(k(k({},a),i)[y]):k(k({},a),i)[y]===v})?[...g,m,f]:g},[]);return Pe(e,l,c,s==null?void 0:s.class,s==null?void 0:s.className)},xe="-",Tt=e=>{const t=Rt(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:l=>{const i=l.split(xe);return i[0]===""&&i.length!==1&&i.shift(),De(i,t)||At(l)},getConflictingClassGroupIds:(l,i)=>{const c=s[l]||[];return i&&o[l]?[...c,...o[l]]:c}}},De=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const s=e[0],o=t.nextPart.get(s),n=o?De(e.slice(1),o):void 0;if(n)return n;if(t.validators.length===0)return;const a=e.join(xe);return(l=t.validators.find(({validator:i})=>i(a)))==null?void 0:l.classGroupId},Ie=/^\[(.+)\]$/,At=e=>{if(Ie.test(e)){const t=Ie.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},Rt=e=>{const{theme:t,prefix:s}=e,o={nextPart:new Map,validators:[]};return Pt(Object.entries(e.classGroups),s).forEach(([a,l])=>{fe(l,o,a,t)}),o},fe=(e,t,s,o)=>{e.forEach(n=>{if(typeof n=="string"){const a=n===""?t:Le(t,n);a.classGroupId=s;return}if(typeof n=="function"){if(_t(n)){fe(n(o),t,s,o);return}t.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([a,l])=>{fe(l,Le(t,a),s,o)})})},Le=(e,t)=>{let s=e;return t.split(xe).forEach(o=>{s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s},_t=e=>e.isThemeGetter,Pt=(e,t)=>t?e.map(([s,o])=>{const n=o.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,i])=>[t+l,i])):a);return[s,n]}):e,It=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,o=new Map;const n=(a,l)=>{s.set(a,l),t++,t>e&&(t=0,o=s,s=new Map)};return{get(a){let l=s.get(a);if(l!==void 0)return l;if((l=o.get(a))!==void 0)return n(a,l),l},set(a,l){s.has(a)?s.set(a,l):n(a,l)}}},Ve="!",Lt=e=>{const{separator:t,experimentalParseClassName:s}=e,o=t.length===1,n=t[0],a=t.length,l=i=>{const c=[];let g=0,u=0,m;for(let y=0;y<i.length;y++){let v=i[y];if(g===0){if(v===n&&(o||i.slice(y,y+a)===t)){c.push(i.slice(u,y)),u=y+a;continue}if(v==="/"){m=y;continue}}v==="["?g++:v==="]"&&g--}const f=c.length===0?i:i.substring(u),h=f.startsWith(Ve),p=h?f.substring(1):f,x=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:x}};return s?i=>s({className:i,parseClassName:l}):l},zt=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(o=>{o[0]==="["?(t.push(...s.sort(),o),s=[]):s.push(o)}),t.push(...s.sort()),t},Ot=e=>k({cache:It(e.cacheSize),parseClassName:Lt(e)},Tt(e)),Ft=/\s+/,Mt=(e,t)=>{const{parseClassName:s,getClassGroupId:o,getConflictingClassGroupIds:n}=t,a=[],l=e.trim().split(Ft);let i="";for(let c=l.length-1;c>=0;c-=1){const g=l[c],{modifiers:u,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:h}=s(g);let p=!!h,x=o(p?f.substring(0,h):f);if(!x){if(!p){i=g+(i.length>0?" "+i:i);continue}if(x=o(f),!x){i=g+(i.length>0?" "+i:i);continue}p=!1}const y=zt(u).join(":"),v=m?y+Ve:y,S=v+x;if(a.includes(S))continue;a.push(S);const L=n(x,p);for(let z=0;z<L.length;++z){const J=L[z];a.push(v+J)}i=g+(i.length>0?" "+i:i)}return i};function $t(){let e=0,t,s,o="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Ge(t))&&(o&&(o+=" "),o+=s);return o}const Ge=e=>{if(typeof e=="string")return e;let t,s="";for(let o=0;o<e.length;o++)e[o]&&(t=Ge(e[o]))&&(s&&(s+=" "),s+=t);return s};function Ut(e,...t){let s,o,n,a=l;function l(c){const g=t.reduce((u,m)=>m(u),e());return s=Ot(g),o=s.cache.get,n=s.cache.set,a=i,i(c)}function i(c){const g=o(c);if(g)return g;const u=Mt(c,s);return n(c,u),u}return function(){return a($t.apply(null,arguments))}}const j=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Be=/^\[(?:([a-z-]+):)?(.+)\]$/i,Dt=/^\d+\/\d+$/,Vt=new Set(["px","full","screen"]),Gt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Bt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Wt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Kt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,R=e=>B(e)||Vt.has(e)||Dt.test(e),_=e=>W(e,"length",tr),B=e=>!!e&&!Number.isNaN(Number(e)),ge=e=>W(e,"number",B),K=e=>!!e&&Number.isInteger(Number(e)),Yt=e=>e.endsWith("%")&&B(e.slice(0,-1)),b=e=>Be.test(e),P=e=>Gt.test(e),Ht=new Set(["length","size","percentage"]),Jt=e=>W(e,Ht,We),Zt=e=>W(e,"position",We),Xt=new Set(["image","url"]),Qt=e=>W(e,Xt,sr),er=e=>W(e,"",rr),Y=()=>!0,W=(e,t,s)=>{const o=Be.exec(e);return o?o[1]?typeof t=="string"?o[1]===t:t.has(o[1]):s(o[2]):!1},tr=e=>Bt.test(e)&&!Wt.test(e),We=()=>!1,rr=e=>qt.test(e),sr=e=>Kt.test(e),or=()=>{const e=j("colors"),t=j("spacing"),s=j("blur"),o=j("brightness"),n=j("borderColor"),a=j("borderRadius"),l=j("borderSpacing"),i=j("borderWidth"),c=j("contrast"),g=j("grayscale"),u=j("hueRotate"),m=j("invert"),f=j("gap"),h=j("gradientColorStops"),p=j("gradientColorStopPositions"),x=j("inset"),y=j("margin"),v=j("opacity"),S=j("padding"),L=j("saturate"),z=j("scale"),J=j("sepia"),be=j("skew"),ye=j("space"),ve=j("translate"),ae=()=>["auto","contain","none"],ie=()=>["auto","hidden","clip","visible","scroll"],le=()=>["auto",b,t],N=()=>[b,t],we=()=>["",R,_],Z=()=>["auto",B,b],je=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",b],ke=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[B,b];return{cacheSize:500,separator:":",theme:{colors:[Y],spacing:[R,_],blur:["none","",P,b],brightness:A(),borderColor:[e],borderRadius:["none","","full",P,b],borderSpacing:N(),borderWidth:we(),contrast:A(),grayscale:q(),hueRotate:A(),invert:q(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[Yt,_],inset:le(),margin:le(),opacity:A(),padding:N(),saturate:A(),scale:A(),sepia:q(),skew:A(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",b]}],container:["container"],columns:[{columns:[P]}],"break-after":[{"break-after":ke()}],"break-before":[{"break-before":ke()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...je(),b]}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:ae()}],"overscroll-x":[{"overscroll-x":ae()}],"overscroll-y":[{"overscroll-y":ae()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",K,b]}],basis:[{basis:le()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",b]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",K,b]}],"grid-cols":[{"grid-cols":[Y]}],"col-start-end":[{col:["auto",{span:["full",K,b]},b]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[Y]}],"row-start-end":[{row:["auto",{span:[K,b]},b]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",b]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",b]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...ce()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ce(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ce(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[ye]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[ye]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",b,t]}],"min-w":[{"min-w":[b,t,"min","max","fit"]}],"max-w":[{"max-w":[b,t,"none","full","min","max","fit","prose",{screen:[P]},P]}],h:[{h:[b,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[b,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[b,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[b,t,"auto","min","max","fit"]}],"font-size":[{text:["base",P,_]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ge]}],"font-family":[{font:[Y]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",b]}],"line-clamp":[{"line-clamp":["none",B,ge]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",R,b]}],"list-image":[{"list-image":["none",b]}],"list-style-type":[{list:["none","disc","decimal",b]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",R,_]}],"underline-offset":[{"underline-offset":["auto",R,b]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",b]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",b]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...je(),Zt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Jt]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Qt]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:X()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[R,b]}],"outline-w":[{outline:[R,_]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:we()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[R,_]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",P,er]}],"shadow-color":[{shadow:[Y]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Ne()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[o]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",P,b]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[L]}],sepia:[{sepia:[J]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",b]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",b]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",b]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[K,b]}],"translate-x":[{"translate-x":[ve]}],"translate-y":[{"translate-y":[ve]}],"skew-x":[{"skew-x":[be]}],"skew-y":[{"skew-y":[be]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",b]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",b]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",b]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[R,_,ge]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nr=Ut(or);function D(...e){return nr(Ue(e))}const ar=Et("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=d.forwardRef((l,a)=>{var i=l,{className:e,variant:t,size:s,asChild:o=!1}=i,n=C(i,["className","variant","size","asChild"]);const c=o?wt:"button";return r.jsx(c,k({className:D(ar({variant:t,size:s,className:e})),ref:a},n))});se.displayName="Button";const qe=d.forwardRef((o,s)=>{var n=o,{className:e}=n,t=C(n,["className"]);return r.jsx("div",k({ref:s,className:D("rounded-lg border bg-card text-card-foreground shadow-sm",e)},t))});qe.displayName="Card";const Ke=d.forwardRef((o,s)=>{var n=o,{className:e}=n,t=C(n,["className"]);return r.jsx("div",k({ref:s,className:D("flex flex-col space-y-1.5 p-6",e)},t))});Ke.displayName="CardHeader";const Ye=d.forwardRef((o,s)=>{var n=o,{className:e}=n,t=C(n,["className"]);return r.jsx("div",k({ref:s,className:D("text-2xl font-semibold leading-none tracking-tight",e)},t))});Ye.displayName="CardTitle";const He=d.forwardRef((o,s)=>{var n=o,{className:e}=n,t=C(n,["className"]);return r.jsx("div",k({ref:s,className:D("text-sm text-muted-foreground",e)},t))});He.displayName="CardDescription";const Je=d.forwardRef((o,s)=>{var n=o,{className:e}=n,t=C(n,["className"]);return r.jsx("div",k({ref:s,className:D("p-6 pt-0",e)},t))});Je.displayName="CardContent";const ir=d.forwardRef((o,s)=>{var n=o,{className:e}=n,t=C(n,["className"]);return r.jsx("div",k({ref:s,className:D("flex items-center p-6 pt-0",e)},t))});ir.displayName="CardFooter";function lr(e){if(e instanceof Error&&"isAxiosError"in e){const t=e;if(!t.response)return{title:"Connection Error",message:"Unable to connect to the server. Please check your internet connection and try again.",actionable:!0,retryable:!0};const s=t.response.status,o=t.response.data;switch(s){case 400:return o!=null&&o.errors&&Array.isArray(o.errors)&&o.errors.length>0?{title:"Validation Error",message:o.errors.join(". "),actionable:!0,retryable:!1}:{title:"Invalid Request",message:(o==null?void 0:o.message)||(o==null?void 0:o.error)||"The information provided is invalid. Please check and try again.",actionable:!0,retryable:!1};case 401:return{title:"Authentication Required",message:"Your session has expired. Please log in again.",actionable:!0,retryable:!1};case 403:return{title:"Access Denied",message:"You don't have permission to perform this action.",actionable:!1,retryable:!1};case 404:return{title:"Not Found",message:"The requested resource could not be found.",actionable:!1,retryable:!1};case 409:return{title:"Conflict",message:(o==null?void 0:o.error)||"This action conflicts with existing data. Please refresh and try again.",actionable:!0,retryable:!0};case 429:return{title:"Too Many Requests",message:"Please wait a moment before trying again.",actionable:!1,retryable:!0};case 500:case 502:case 503:case 504:return{title:"Server Error",message:"Our servers are experiencing issues. Please try again in a few moments.",actionable:!1,retryable:!0};default:return{title:"Error",message:(o==null?void 0:o.error)||"An unexpected error occurred. Please try again.",actionable:!0,retryable:!0}}}return e instanceof Error?{title:"Application Error",message:e.message||"An unexpected error occurred.",actionable:!1,retryable:!1}:{title:"Unknown Error",message:"Something went wrong. Please try again.",actionable:!1,retryable:!0}}function Ze(e,t){const s={error:e instanceof Error?{message:e.message,stack:e.stack,name:e.name}:{message:String(e)},context:t,timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent};try{fetch("/api/log-error",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s),keepalive:!0}).catch(o=>console.error("Failed to log error:",o))}catch(o){console.error("Error logging failed:",o)}}function Pr(e,t){const s=lr(e);Ze(e,{context:t}),console.warn(`${s.title}: ${s.message}`)}class cr extends d.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleReload=()=>{window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,s){console.error("Error caught by boundary:",t,s),this.logErrorToService(t,s),this.setState({error:t,errorInfo:s})}logErrorToService(t,s){try{Ze(t,{componentStack:s.componentStack,errorBoundary:!0,url:window.location.href,userAgent:navigator.userAgent})}catch(o){console.error("Error while logging to service:",o)}}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:r.jsxs(qe,{className:"max-w-2xl w-full",children:[r.jsx(Ke,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(rt,{className:"h-8 w-8 text-red-600"}),r.jsxs("div",{children:[r.jsx(Ye,{children:"Something went wrong"}),r.jsx(He,{children:"An unexpected error occurred. We apologize for the inconvenience."})]})]})}),r.jsxs(Je,{className:"space-y-4",children:[!1,r.jsxs("div",{className:"flex gap-3",children:[r.jsx(se,{onClick:this.handleReset,variant:"outline",children:"Try Again"}),r.jsx(se,{onClick:this.handleReload,children:"Reload Page"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"If this problem persists, please contact support with the error details."})]})]})}):this.props.children}}const V=I.create({baseURL:"http://3.87.74.62:3001",timeout:3e4,headers:{"Content-Type":"application/json"}});V.interceptors.request.use(e=>{const t=localStorage.getItem("flight_schedule_access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));V.interceptors.response.use(e=>e,e=>{var t;if(((t=e.response)==null?void 0:t.status)===401){localStorage.removeItem("flight_schedule_access_token"),localStorage.removeItem("flight_schedule_refresh_token"),localStorage.removeItem("flight_schedule_id_token"),localStorage.removeItem("user");const s=window.location.pathname+window.location.hash;!s.includes("/login")&&!s.includes("/register")&&setTimeout(()=>{window.location.href="/#/login"},100)}return Promise.reject(e)});const dr=()=>w(void 0,null,function*(){const e=yield V.get("/notifications");return Array.isArray(e.data)?e.data:[]}),ur=()=>w(void 0,null,function*(){return(yield V.get("/notifications/unread/count")).data.count}),mr=e=>w(void 0,null,function*(){yield V.put(`/notifications/${e}/read`)}),gr=()=>w(void 0,null,function*(){yield V.put("/notifications/read-all")}),hr=e=>w(void 0,null,function*(){yield V.delete(`/notifications/${e}`)}),pr=()=>{const[e,t]=d.useState([]),[s,o]=d.useState(0),[n,a]=d.useState(!1),[l,i]=d.useState(null),c=d.useCallback(()=>w(void 0,null,function*(){a(!0),i(null);try{const h=yield dr();return t(h),h}catch(h){return i(h.message||"Failed to fetch notifications"),[]}finally{a(!1)}}),[]),g=d.useCallback(()=>w(void 0,null,function*(){try{const h=yield ur();o(h)}catch(h){console.debug("Failed to fetch unread count (will retry):",h.message),o(0)}}),[]),u=d.useCallback(h=>w(void 0,null,function*(){try{yield mr(h),t(p=>p.map(x=>x.id===h?G(k({},x),{read:!0}):x)),o(p=>Math.max(0,p-1))}catch(p){i(p.message||"Failed to mark as read")}}),[]),m=d.useCallback(()=>w(void 0,null,function*(){try{yield gr(),t(h=>h.map(p=>G(k({},p),{read:!0}))),o(0)}catch(h){i(h.message||"Failed to mark all as read")}}),[]),f=d.useCallback(h=>w(void 0,null,function*(){try{yield hr(h),t(p=>p.filter(x=>x.id!==h))}catch(p){i(p.message||"Failed to delete notification")}}),[]);return d.useEffect(()=>{g();const h=setInterval(g,3e4);return()=>clearInterval(h)},[g]),{notifications:e,unreadCount:s,loading:n,error:l,fetchNotifications:c,markAsRead:u,markAllAsRead:m,deleteNotification:f}};function fr(){const{fetchNotifications:e,markAsRead:t}=pr(),[s,o]=d.useState([]),[n,a]=d.useState(!1),[l,i]=d.useState(null),c=oe();d.useEffect(()=>{e().then(f=>{o(f);const h=f.filter(p=>!p.read);h.length>0&&!n&&(i(h[0]),a(!0))}).catch(f=>{console.warn("Failed to fetch notifications:",f)});const m=setInterval(()=>w(this,null,function*(){try{const f=yield e();o(h=>{const p=f.filter(y=>!y.read&&!h.find(v=>v.id===y.id)),x=f.filter(y=>!y.read&&y.id!==(l==null?void 0:l.id));return p.length>0&&!n?(i(p[0]),a(!0)):x.length>0&&!n&&(i(x[0]),a(!0)),f})}catch(f){console.debug("Notification poll failed (will retry):",f)}}),1e4);return()=>clearInterval(m)},[e,n,l]);const g=()=>w(this,null,function*(){if(l)try{yield t(l.id)}catch(m){console.warn("Failed to mark notification as read:",m)}a(!1),i(null),setTimeout(()=>w(this,null,function*(){try{const f=(yield e()).filter(h=>!h.read);f.length>0&&(i(f[0]),a(!0))}catch(m){console.debug("Failed to fetch next notification:",m)}}),500)}),u=()=>w(this,null,function*(){if(l){try{yield t(l.id)}catch(h){console.warn("Failed to mark notification as read:",h)}const m=l.bookingId,f=l.type;a(!1),i(null),setTimeout(()=>{m&&f==="OPTIONS_AVAILABLE"?c(`/bookings/${m}/reschedule`):m&&c(`/bookings/${m}`)},100),setTimeout(()=>w(this,null,function*(){try{const p=(yield e()).filter(x=>!x.read);p.length>0&&(i(p[0]),a(!0))}catch(h){console.debug("Failed to fetch next notification:",h)}}),1e3)}});return!n||!l?null:r.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-md animate-in slide-in-from-top-5",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4 flex items-start gap-3",children:[r.jsx("div",{className:"flex-shrink-0 mt-1",children:r.jsx(st,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-1",children:l.title}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:l.message}),l.bookingId&&r.jsx("button",{onClick:u,className:"mt-2 text-xs text-blue-600 hover:text-blue-700 font-medium",children:"View Details â†’"})]}),r.jsx("button",{onClick:g,className:"flex-shrink-0 text-gray-400 hover:text-gray-600",children:r.jsx(ze,{className:"h-4 w-4"})})]})})}function O({children:e}){const{user:t,logout:s}=ne(),o=Oe(),n=oe(),[a,l]=d.useState(!1),i=()=>{s(),n("/login")},c=[{path:"/dashboard",label:"Dashboard",icon:ot},{path:"/bookings",label:"Bookings",icon:nt},{path:"/availability",label:"Availability",icon:at},{path:"/settings",label:"Settings",icon:it}],g=u=>o.pathname===u||o.pathname.startsWith(u+"/");return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("nav",{className:"bg-white border-b",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"h-8 w-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"FS"})}),r.jsx("span",{className:"font-bold text-xl text-gray-900 hidden sm:block",children:"Flight Schedule Pro"})]})}),r.jsx("div",{className:"hidden md:flex items-center gap-1",children:c.map(u=>{const m=u.icon;return r.jsxs(te,{to:u.path,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${g(u.path)?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(m,{className:"h-4 w-4"}),u.label]},u.path)})}),r.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:(t==null?void 0:t.name)||`${(t==null?void 0:t.firstName)||""} ${(t==null?void 0:t.lastName)||""}`.trim()||(t==null?void 0:t.email)}),r.jsx("p",{className:"text-xs text-gray-600",children:t==null?void 0:t.role})]}),r.jsxs(se,{variant:"outline",size:"sm",onClick:i,className:"flex items-center gap-2",children:[r.jsx(Te,{className:"h-4 w-4"}),"Logout"]})]}),r.jsx("button",{onClick:()=>l(!a),className:"md:hidden p-2 rounded-lg hover:bg-gray-100",children:a?r.jsx(ze,{className:"h-6 w-6"}):r.jsx(lt,{className:"h-6 w-6"})})]})}),a&&r.jsx("div",{className:"md:hidden border-t bg-white",children:r.jsxs("div",{className:"px-4 py-3 space-y-1",children:[c.map(u=>{const m=u.icon;return r.jsxs(te,{to:u.path,onClick:()=>l(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g(u.path)?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx(m,{className:"h-5 w-5"}),u.label]},u.path)}),r.jsxs("div",{className:"pt-3 border-t",children:[r.jsxs("div",{className:"px-4 py-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:(t==null?void 0:t.name)||`${(t==null?void 0:t.firstName)||""} ${(t==null?void 0:t.lastName)||""}`.trim()||(t==null?void 0:t.email)}),r.jsx("p",{className:"text-xs text-gray-600",children:t==null?void 0:t.role})]}),r.jsxs("button",{onClick:()=>{i(),l(!1)},className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg",children:[r.jsx(Te,{className:"h-5 w-5"}),"Logout"]})]})]})})]}),r.jsx("main",{children:e}),r.jsx(fr,{})]})}function xr(){const e=oe(),{login:t}=ne(),[s,o]=d.useState(""),[n,a]=d.useState(""),[l,i]=d.useState(""),[c,g]=d.useState(!1),u=m=>w(this,null,function*(){m.preventDefault(),i(""),g(!0);try{yield t({email:s,password:n}),e("/dashboard")}catch(f){i(f.message||"Login failed. Please check your credentials.")}finally{g(!1)}});return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"w-full max-w-md space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Flight Schedule Pro - Weather Cancellation & AI Rescheduling"})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[l&&r.jsx("div",{className:"rounded-md bg-red-50 p-4",children:r.jsx("div",{className:"flex",children:r.jsx("div",{className:"ml-3",children:r.jsx("h3",{className:"text-sm font-medium text-red-800",children:l})})})}),r.jsxs("div",{className:"-space-y-px rounded-md shadow-sm",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),r.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"relative block w-full rounded-t-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",placeholder:"Email address",value:s,onChange:m=>o(m.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"relative block w-full rounded-b-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",placeholder:"Password",value:n,onChange:m=>a(m.target.value)})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:c,className:"group relative flex w-full justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Signing in...":"Sign in"})}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"text-sm",children:r.jsx(te,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Don't have an account? Register here"})})})]})]})})}var $=(e=>(e.STUDENT="STUDENT",e.INSTRUCTOR="INSTRUCTOR",e.ADMIN="ADMIN",e))($||{}),H=(e=>(e.STUDENT_PILOT="student_pilot",e.PRIVATE_PILOT="private_pilot",e.INSTRUMENT_RATED="instrument_rated",e))(H||{});function br(){const e=oe(),{register:t}=ne(),[s,o]=d.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phoneNumber:"",role:$.STUDENT,trainingLevel:H.STUDENT_PILOT}),[n,a]=d.useState(""),[l,i]=d.useState(!1),c=u=>{o(G(k({},s),{[u.target.name]:u.target.value}))},g=u=>w(this,null,function*(){if(u.preventDefault(),a(""),s.password!==s.confirmPassword){a("Passwords do not match");return}if(s.password.length<8){a("Password must be at least 8 characters long");return}i(!0);try{yield t({email:s.email,password:s.password,firstName:s.firstName,lastName:s.lastName,phoneNumber:s.phoneNumber||void 0,role:s.role,trainingLevel:s.role===$.STUDENT?s.trainingLevel:void 0}),e("/login",{state:{message:"Registration successful! Please log in."}})}catch(m){a(m.message||"Registration failed. Please try again.")}finally{i(!1)}});return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4 py-12 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"w-full max-w-md space-y-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Flight Schedule Pro Registration"})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[n&&r.jsx("div",{className:"rounded-md bg-red-50 p-4",children:r.jsx("div",{className:"flex",children:r.jsx("div",{className:"ml-3",children:r.jsx("h3",{className:"text-sm font-medium text-red-800",children:n})})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),r.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,className:"mt-1 block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",value:s.firstName,onChange:c})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),r.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,className:"mt-1 block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",value:s.lastName,onChange:c})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",value:s.email,onChange:c})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number (optional)"}),r.jsx("input",{id:"phoneNumber",name:"phoneNumber",type:"tel",className:"mt-1 block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",value:s.phoneNumber,onChange:c})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role"}),r.jsxs("select",{id:"role",name:"role",required:!0,className:"mt-1 block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",value:s.role,onChange:c,children:[r.jsx("option",{value:$.STUDENT,children:"Student Pilot"}),r.jsx("option",{value:$.INSTRUCTOR,children:"Flight Instructor"}),r.jsx("option",{value:$.ADMIN,children:"Administrator"})]})]}),s.role===$.STUDENT&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"trainingLevel",className:"block text-sm font-medium text-gray-700",children:"Training Level"}),r.jsxs("select",{id:"trainingLevel",name:"trainingLevel",className:"mt-1 block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",value:s.trainingLevel,onChange:c,children:[r.jsx("option",{value:H.STUDENT_PILOT,children:"Student Pilot"}),r.jsx("option",{value:H.PRIVATE_PILOT,children:"Private Pilot"}),r.jsx("option",{value:H.INSTRUMENT_RATED,children:"Instrument Rated"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),r.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",value:s.password,onChange:c}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters"})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6",value:s.confirmPassword,onChange:c})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:l,className:"group relative flex w-full justify-center rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating account...":"Create account"})}),r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("div",{className:"text-sm",children:r.jsx(te,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Already have an account? Sign in here"})})})]})]})})}function F({children:e,allowedRoles:t}){const{isAuthenticated:s,user:o,isLoading:n}=ne(),a=Oe();return n?r.jsx("div",{className:"flex min-h-screen items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading..."})]})}):s?t&&o&&!t.includes(o.role)?r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"403"}),r.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Access Denied"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to access this page."}),r.jsx("button",{onClick:()=>window.history.back(),className:"mt-4 rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-500",children:"Go Back"})]})}):r.jsx(r.Fragment,{children:e}):r.jsx(he,{to:"/login",state:{from:a},replace:!0})}const yr=d.lazy(()=>U(()=>import("./Dashboard-CHU82PZm.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(e=>({default:e.Dashboard}))),vr=d.lazy(()=>U(()=>import("./BookingList-BnNiMm5-.js"),__vite__mapDeps([7,1,2,5,6,8,9,4]))),wr=d.lazy(()=>U(()=>import("./CreateBooking-DdefAltU.js"),__vite__mapDeps([10,1,2,5,8,11,4]))),jr=d.lazy(()=>U(()=>import("./BookingDetails-BmLCNq8D.js"),__vite__mapDeps([12,1,2,5,6,4]))),Nr=d.lazy(()=>U(()=>import("./ReschedulePage-C2xli2MH.js"),__vite__mapDeps([13,1,2,3,11,4,5]))),kr=d.lazy(()=>U(()=>import("./AvailabilityCalendar-DPUHTF42.js"),__vite__mapDeps([14,1,2,11,9,5,4])).then(e=>({default:e.AvailabilityCalendar}))),Sr=d.lazy(()=>U(()=>import("./Settings-Xh1ip4s_.js"),__vite__mapDeps([15,1,2,4])).then(e=>({default:e.Settings}))),M=()=>r.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[r.jsx(ct,{className:"h-8 w-8 animate-spin text-blue-600"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Loading..."})]});function Cr(){return r.jsx(cr,{children:r.jsx(xt,{children:r.jsx(mt,{children:r.jsx("div",{className:"App",children:r.jsxs(gt,{children:[r.jsx(E,{path:"/login",element:r.jsx(xr,{})}),r.jsx(E,{path:"/register",element:r.jsx(br,{})}),r.jsx(E,{path:"/dashboard",element:r.jsx(F,{children:r.jsx(O,{children:r.jsx(d.Suspense,{fallback:r.jsx(M,{}),children:r.jsx(yr,{})})})})}),r.jsx(E,{path:"/bookings",element:r.jsx(F,{children:r.jsx(O,{children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"My Bookings"}),r.jsx(d.Suspense,{fallback:r.jsx(M,{}),children:r.jsx(vr,{})})]})})})})}),r.jsx(E,{path:"/bookings/new",element:r.jsx(F,{children:r.jsx(O,{children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Schedule New Flight"}),r.jsx(d.Suspense,{fallback:r.jsx(M,{}),children:r.jsx(wr,{})})]})})})})}),r.jsx(E,{path:"/bookings/:id",element:r.jsx(F,{children:r.jsx(O,{children:r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(d.Suspense,{fallback:r.jsx(M,{}),children:r.jsx(jr,{})})})})})})}),r.jsx(E,{path:"/bookings/:bookingId/reschedule",element:r.jsx(F,{children:r.jsx(O,{children:r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:r.jsx(d.Suspense,{fallback:r.jsx(M,{}),children:r.jsx(Nr,{})})})})})})}),r.jsx(E,{path:"/availability",element:r.jsx(F,{children:r.jsx(O,{children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Manage Availability"}),r.jsx(d.Suspense,{fallback:r.jsx(M,{}),children:r.jsx(kr,{})})]})})})})}),r.jsx(E,{path:"/settings",element:r.jsx(F,{children:r.jsx(O,{children:r.jsx(d.Suspense,{fallback:r.jsx(M,{}),children:r.jsx(Sr,{})})})})}),r.jsx(E,{path:"/",element:r.jsx(he,{to:"/login",replace:!0})}),r.jsx(E,{path:"*",element:r.jsx(he,{to:"/login",replace:!0})})]})})})})})}const Er=pe.createRoot(document.getElementById("root"));Er.render(r.jsx(ht.StrictMode,{children:r.jsx(Cr,{})}));export{se as B,qe as C,$ as U,Ke as a,Ye as b,He as c,Je as d,V as e,D as f,lr as g,Et as h,vt as i,Pr as s,ne as u};
